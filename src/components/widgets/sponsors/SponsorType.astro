---
import WidgetWrapper from '../../ui/WidgetWrapper.astro';
import { type tier } from '~/components/widgets/sponsors/sponsorsContent.ts';

interface Props {
  sponsorTier: tier;
}

const { sponsorTier } = Astro.props;
const { heading, prio, sponsors } = sponsorTier;
---

<div class="w-full relative">
  <!-- HEADER -->
  <div
    class="absolute left-1/2 transform -translate-x-1/2 w-fit p-2 px-4 rounded-xl text-center bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#FEF85D] to-[#989438]"
  >
    <h3 class="font-extrabold text-2xl uppercase text-[#453C1A]">{heading}</h3>
  </div>

  <div class="mt-5 p-1 rounded-lg border-gradient w-full">
    <!-- SPONSORS -->
    <div class="text-center p-6 pt-12 flex items-center justify-center">
      {
        sponsors.map((sponsor) => (
          <div class={`flex flex-col items-center px-4 text-[1.75rem] ${prio ? `text-${prio}` : ''}`}>
            <div class={`sponsor-frame flex items-center justify-center p-2  ${prio ? `frame-${prio}` : ''}`}>
              <img class="rounded-full h-full" src={sponsor.logo} alt={sponsor.name} />
            </div>

            <h4 class={`font-bold ${prio == 6 ? 'hidden' : ''} `}>{sponsor.name}</h4>
            <h5 class={`italic font-medium text-xl ${prio > 6 ? 'hidden' : ''}`}>{sponsor.tagline}</h5>
          </div>
        ))
      }
    </div>
  </div>
</div>

<style>
  .sponsor-frame {
    width: fit-content;
    border: 1px solid #7c47c2;
    border-radius: 2rem;
    padding: 1rem;
    background: radial-gradient(
      165.01% 102.17% at 47.39% -2.17%,
      #5c09bb 3.97%,
      #5208a7 8.84%,
      #410874 22.11%,
      #3a0871 31.67%,
      #340864 38.79%,
      #330863 71.38%
    );
  }
  .frame-6 {
    border: none;
    background: none;
    background-color: transparent;
  }
  .text-3 {
    font-size: 1.5rem; /* 24px */
  }
  .text-4 {
    font-size: 1.3125rem; /*21px*/
  }
  .text-5 {
    font-size: 1.125rem; /*18px*/
  }
  .border-gradient {
    border: 4px transparent;
    border-radius: 1rem;
    background-image: linear-gradient(#330063, #330063),
      linear-gradient(180deg, #fef85d 0%, #b5b142 44.5%, #989438 100%);
    background-origin: border-box;
    background-clip: content-box, border-box;
  }
</style>
